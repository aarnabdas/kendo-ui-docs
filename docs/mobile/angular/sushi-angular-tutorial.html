<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width">
        <title>Tutorial: Building Sushi sample app</title>
        <link rel="shortcut icon" href="kendo-ui-docs/favicon.ico"/>
        <meta name="description" content="Tutorial: Building applications with Kendo UI Mobile and AngularJS">
        <link href="http://cdn.kendostatic.com/2015.1.429/styles/kendo.common.min.css" rel="stylesheet" />
        <link type="text/css" rel="stylesheet" href="kendo-ui-docs/assets/styles.css">
        <link type="text/css" rel="stylesheet" href="kendo-ui-docs/assets/theme.css">
        <script src="http://code.jquery.com/jquery-1.10.2.js"></script>
        <script src="http://cdn.kendostatic.com/2015.1.429/js/kendo.web.min.js"></script>
        <script type="text/javascript" src="kendo-ui-docs/assets/prettify.js"></script>
        <script type="text/javascript" src="kendo-ui-docs/assets/app.js"></script>
        

        <!--[if lt IE 9]>
        <script>
        document.createElement('header');
        document.createElement('nav');
        document.createElement('section');
        document.createElement('article');
        document.createElement('aside');
        document.createElement('footer');
        document.createElement('hgroup');
        </script>
        <![endif]-->
    </head>
    <body>
        <!-- Google Tag Manager -->
        <noscript>
            <iframe src="//www.googletagmanager.com/ns.html?id=GTM-6X92" height="0" width="0" style="display: none; visibility: hidden"></iframe>
        </noscript>
        <script>(function(w, d, s, l, i) { w[l] = w[l] || []; w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' }); var f = d.getElementsByTagName(s)[0], j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src = '//www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f); })(window, document, 'script', 'dataLayer', 'GTM-6X92');</script>
        <!-- End Google Tag Manager -->
        <header id="page-header">
            <span class="toggle-nav"><span></span></span>
            <div id="logo-bar">
    <a href="kendo-ui-docs/">
        <img alt="Kendo UI logo" class="logo" src="kendo-ui-docs/images/kendo-ui.png">
    </a>
</div>

<div id="page-search">
    <script>
  (function() {
    var cx = '001595215763381649090:eblhnfskwrk';
    var gcse = document.createElement('script');
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//www.google.com/cse/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>

</div>

<span class="show-search">
	<span class="k-icon k-i-search"></span>
</span>

<div class="nav-buttons">
    <a href="http://demos.telerik.com/kendo-ui" class="btn demos-btn">Demos</a>
    <a href="http://www.telerik.com/kendo-ui" class="btn about-btn">About</a>
    <a href="http://www.telerik.com/purchase/kendo-ui" class="btn pricing-btn">Pricing</a>
    <a href="http://www.telerik.com/download/kendo-ui" class="btn btn-primary">Try now</a>
</div>

        </header>

        <div id="page-inner-content">
    <div id="page-nav">
        <div id="page-tree"></div>
        <script>
        $("#page-tree").kendoTreeView({
            dataSource: {
                transport: {
                    read: {
                        url: "kendo-ui-docs/default.json",
                        dataType: "json"
                    }
                },
                schema: {
                    model: {
                        id: "path",
                        children: "items",
                        hasChildren: "items"
                    }
                }
            },
            select: preventParentSelection,
            template: navigationTemplate("kendo-ui-docs/"),
            dataBound: expandNavigation("mobile/angular/sushi-angular-tutorial.html")
        });
        </script>
    </div>

    <a id="page-edit-link" class="btn btn-action" href="https://github.com/telerik/kendo-ui-core/edit/master/docs//mobile/angular/sushi-angular-tutorial.md">Edit this page</a>

    

    <div id="page-article">
        <article>
            <h1 id="tutorial-building-applications-with-kendo-ui-mobile-and-angularjs"><a href="#tutorial-building-applications-with-kendo-ui-mobile-and-angularjs">Tutorial: Building applications with Kendo UI Mobile and AngularJS</a></h1>

<p>Since Q3 2014, Kendo UI includes AngularJS directives for the mobile Application and the mobile View, SplitView, and ModalView components.
In that context, the mobile views support AngularJS controllers, directives and two way data binding expressions.
This tutorial introduces the Kendo UI Mobile AngularJS integration and will walk you through the construction of an AngularJS Kendo UI Mobile web app.</p>

<h2 id="application-description"><a href="#application-description">Application description</a></h2>

<p>The "Sushi" application is a Single Page Application build with AngularJS and Kendo UI Mobile. It has six different views:</p>

<ul>
<li>"Home" - uses a ListView widget to show the featured Sushi products.</li>
<li>"Our menu" - shows all available Sushi products in a grouped ListView widget.</li>
<li>"Cart" - shows the added to cart Sushi products.</li>
<li>"Account" - shows a mock account information.</li>
<li>"Details" - shows details for a specific Sushi product. This view uses URL parameters to determine the Sushi product.</li>
<li>"About" - a remote view.</li>
</ul>

<p>The full source code of the application is available on GitHub: <a href="https://github.com/telerik/kendo-mobile-sushi">https://github.com/telerik/kendo-mobile-sushi</a></p>

<p>For a live preview of the application that we are going to build please <a href="http://demos.telerik.com/kendo-ui/mobile-apps/sushi">click here</a>.</p>

<h2 id="1-set-up"><a href="#1-set-up">1. Set up</a></h2>

<p>Create a new empty HTML file and include jQuery, AngularJS and Kendo UI. In this tutorial we will <a href="http://docs.telerik.com/kendo-ui/install/cdn">load the prerequisites from CDN</a>.
Alternatively you may <a href="http://docs.telerik.com/kendo-ui/install/onsite">download and host Kendo UI in your project</a>.</p>

<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;Kendo UI Mobile Loves AngularJS&lt;/title&gt;

    &lt;link rel="stylesheet" href="http://cdn.kendostatic.com/2014.3.1029/styles/kendo.mobile.all.min.css"&gt;
    &lt;!-- the application CSS file --&gt;
    &lt;link rel="http://demos.telerik.com/kendo-ui/content/mobile/apps/sushi/css/style.css"&gt;

    &lt;script src="http://code.jquery.com/jquery-1.9.1.min.js"&gt;&lt;/script&gt;
    &lt;script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.0/angular.js"&gt;&lt;/script&gt;
    &lt;script src="http://cdn.kendostatic.com/2014.3.1029/js/kendo.all.min.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre>

<blockquote>
<p>Important! In order for the Angular bindings to be activated, you <strong>must load angular.js before Kendo</strong>.</p>
</blockquote>

<h2 id="2-bootstrap-the-mobile-application"><a href="#2-bootstrap-the-mobile-application">2. Bootstrap the mobile application</a></h2>

<p>To initialize the mobile application add a <code>kendo-mobile-application</code> attribute to the <code>body</code> element together with the <code>ng-app</code> attribute.
The <code>kendo-mobile-application</code> attribute represents an Angular directive which is used to flag the html element that Kendo UI should consider to be the root element of our mobile application.
This gives developers the freedom to specify if the entire html page or only a portion of it should be treated as Kendo UI Mobile application container.</p>

<blockquote>
<p>In order for the Kendo Angular directives to be evaluated we <strong>must declare dependency on "kendo.directives"</strong> when creating the AngularJS application.</p>
</blockquote>

<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;Kendo UI Mobile Loves AngularJS&lt;/title&gt;

    &lt;link rel="stylesheet" href="http://cdn.kendostatic.com/2014.3.1029/styles/kendo.mobile.all.min.css"&gt;
    &lt;!-- the application CSS file --&gt;
    &lt;link rel="http://demos.telerik.com/kendo-ui/content/mobile/apps/sushi/css/style.css"&gt;

    &lt;script src="http://code.jquery.com/jquery-1.9.1.min.js"&gt;&lt;/script&gt;
    &lt;script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.0/angular.js"&gt;&lt;/script&gt;
    &lt;script src="http://cdn.kendostatic.com/2014.3.1029/js/kendo.all.min.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body kendo-mobile-application ng-app="sushiMobileApp"&gt;

    &lt;script&gt;
        angular.module('sushiMobileApp', [ 'kendo.directives' ])
    &lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre>

<h2 id="21-create-home-view"><a href="#21-create-home-view">2.1. Create "Home" View</a></h2>

<p>The "Home" View will display a list of featured products. It will be also the application initial View.</p>

<pre><code>&lt;body kendo-mobile-application ng-app="sushiMobileApp"&gt;

    &lt;kendo-mobile-view id="index"&gt;
        Home View
    &lt;/kendo-mobile-view&gt;

    &lt;script&gt;
        angular.module('sushiMobileApp', [ 'kendo.directives' ]);
    &lt;/script&gt;

&lt;/body&gt;
</code></pre>

<p>Run the application. Now there should be no errors and the screen should display the index View.</p>

<p>For live preview please click <a href="http://dojo.telerik.com/@valchev/exeS">here</a>.</p>

<p>To include Kendo UI widgets in the application you may use <strong>custom tags or standard tags with custom attributes</strong>. Both syntaxes are valid.
Check the following example:</p>

<pre><code>&lt;!-- custom tag --&gt;
&lt;kendo-mobile-view id="index"&gt;
    Index View
&lt;/kendo-mobile-view&gt;

&lt;!-- standard tag with custom attribute --&gt;
&lt;div kendo-mobile-view id="index"&gt;
    Index View
&lt;/div&gt;
</code></pre>

<h2 id="3-make-the-application-seo-friendly"><a href="#3-make-the-application-seo-friendly">3. Make the application SEO friendly</a></h2>

<p>In order to <a href="http://googlewebmastercentral.blogspot.com/2009/10/proposal-for-making-ajax-crawlable.html">create a SEO friendly</a> mobile application all you need to do is turning on the <a href="http://docs.telerik.com/kendo-ui/api/javascript/mobile/application#configuration-hashBang"><code>hashBang</code></a> configuration.
We may <a href="http://docs.telerik.com/kendo-ui/AngularJS/introduction#widget-options-in-html">set the configuration option directly in the mark-up</a>.</p>

<pre><code>&lt;body kendo-mobile-application k-hash-bang="true" ng-app="sushiMobileApp"&gt;
</code></pre>

<h2 id="4-display-list-of-data"><a href="#4-display-list-of-data">4. Display list of data</a></h2>

<p>Now when we have a very basic mobile application running, it is time to add some data.
We are going to create controller for the index View, a <a href="http://docs.telerik.com/kendo-ui/framework/datasource/overview">DataSource</a> that will be responsible for loading the data and a <a href="http://docs.telerik.com/kendo-ui/mobile/listview/overview">mobile ListView</a> widget that will be responsible for displaying it.</p>

<h3 id="41-add-view-controller"><a href="#41-add-view-controller">4.1. Add view controller</a></h3>

<p>Create new AngularJS controller and name it "indexController".</p>

<pre><code>angular.module('sushiMobileApp', [ 'kendo.directives' ])
    .controller('indexController', ['$scope', function($scope) {

    }]);
</code></pre>

<p>Use the <code>ng-controller</code> directive to associate the "indexController" with the "index" View. The controller definition will be executed each time the view is shown.</p>

<pre><code>&lt;kendo-mobile-view id="index" ng-controller="indexController"&gt;
    Index view
&lt;/kendo-mobile-view&gt;
</code></pre>

<h3 id="42-add-service-and-application-datasource"><a href="#42-add-service-and-application-datasource">4.2. Add service and application DataSource</a></h3>

<p>In this tutorial we will load the data from an external JSON file called "menu.json".
The data is going to be used in multiple application Views which is why the DataSource instance should be shared across multiple controllers.
To organize the code we will create an <a href="https://docs.angularjs.org/guide/services">AngularJS service</a> called "sushiCart" that will hold the application DataSource and methods.
The service will be later injected in the mobile View controllers.</p>

<pre><code>.service('sushiCart', function() {

    this.init = function() {
        //the application DataSource
        this.productsDataSource = new kendo.data.DataSource({
            transport: {
                read: {
                    url: "content/menu.json",
                    dataType: "json"
                }
            }
        });
        //observable array that will be used to store products that user has selected
        this.added = new kendo.data.ObservableArray([]);
        //field that will hold reference to the last selected product (used for displaying the details)
        this.currentItem = null;
    };

})
</code></pre>

<p>When the injector is done loading all modules we should run the init method of the "sushiCart" service. At this point the application DataSource and the observable array will be initialized.</p>

<pre><code>angular.module('sushiMobileApp', [ 'kendo.directives' ])
    .run(['sushiCart', function(sushiCart){
        sushiCart.init();
    }])
    .service('sushiCart', function() {
        /* ... */
    })
</code></pre>

<p>Last we need to declare dependency for the "sushiCart" service in the "indexController" and assign "sushiCart" to the scope.</p>

<pre><code>angular.module('sushiMobileApp', [ 'kendo.directives' ])
    .run(['sushiCart', function(sushiCart){
        sushiCart.init();
    }])
    .service('sushiCart', function() {
        /* ... */
    })
    .controller('indexController', ['$scope', 'sushiCart', function($scope, sushiCart) {
        $scope.sushiCart = sushiCart;
    }])
</code></pre>

<h3 id="43-create-a-listview-and-bind-it-to-the-datasource"><a href="#43-create-a-listview-and-bind-it-to-the-datasource">4.3. Create a ListView and bind it to the DataSource</a></h3>

<p>To insert a ListView in the "index" view add a <code>&lt;kendo-mobile-list-view&gt;&lt;/kendo-mobile-list-view&gt;</code> element and bind the "productsDataSource" through <code>k-data-source</code> attribute.
It is mandatory to also define a template that determines how the data will be displayed.</p>

<pre><code>    &lt;kendo-mobile-list-view id="featured" class="item-list" k-data-source="sushiCart.productsDataSource"&gt;
        &lt;div k-template&gt;&lt;/div&gt;
    &lt;/kendo-mobile-list-view&gt;
</code></pre>

<p>At this step we will define a basic template to verify that the data is loaded and displayed correctly. Later we will enhance the template with image, button and link to details view.
If you run the application now you should see a list of products.</p>

<p><img src="image-02.png" alt="products view"></p>

<p>For live preview please click <a href="http://dojo.telerik.com/@valchev/exeS/3">here</a>.</p>

<h2 id="5-add-application-layout"><a href="#5-add-application-layout">5. Add application layout</a></h2>

<p>In this step we will create the application <a href="http://docs.telerik.com/kendo-ui/mobile/layout">layout</a>. To define a Layout add a <code>&lt;kendo-mobile-layout&gt;</code> in the page and sets its <code>id</code> option.</p>

<pre><code>&lt;kendo-mobile-layout k-id="'default'"&gt;
    &lt;kendo-mobile-header&gt;
        &lt;kendo-mobile-nav-bar&gt;
            &lt;kendo-view-title&gt;&lt;/kendo-view-title&gt;
            &lt;kendo-mobile-button class="about-button" k-align="'right'" href="content/about-angular.html"&gt;About&lt;/kendo-mobile-button&gt;
        &lt;/kendo-mobile-nav-bar&gt;
    &lt;/kendo-mobile-header&gt;

    &lt;kendo-mobile-footer&gt;
        &lt;kendo-mobile-tab-strip&gt;
            &lt;a href="#!/" data-icon="home"&gt;Home&lt;/a&gt;
            &lt;a href="#!menu" data-icon="organize"&gt;Our menu&lt;/a&gt;
            &lt;a href="#!cart" data-icon="cart"&gt;Cart&lt;/a&gt;
            &lt;a href="#!account" data-icon="contacts"&gt;Account&lt;/a&gt;
        &lt;/kendo-mobile-tab-strip&gt;
    &lt;/kendo-mobile-footer&gt;
&lt;/kendo-mobile-layout&gt;
</code></pre>

<p>The content inside <code>&lt;kendo-mobile-header&gt;</code> tag will be used as a header for all View elements that use the "default" layout.
You may include navigation widgets such as Button or TabStrip in the layout header/footer. They will be automatically initialized by the framework after the Layout is created.</p>

<p>To tell the "index" View to use the "default" layout we should set its <code>layout</code> configuration option to be equal to the Layout id.</p>

<pre><code>&lt;kendo-mobile-view id="index" k-title="'Kendo sushi'" k-layout="'default'" ng-controller="indexController"&gt;
    &lt;kendo-mobile-list-view id="featured" class="item-list" k-data-source="sushiCart.productsDataSource"&gt;
        &lt;div k-template&gt;&lt;/div&gt;
    &lt;/kendo-mobile-list-view&gt;
&lt;/kendo-mobile-view&gt;
</code></pre>

<blockquote>
<p>Notice an important detail in the example above: the <strong>string 'default' is quoted inside the attribute value</strong>.
Without the single inside it will be interpreted as variable name and Angular-Kendo will look for $scope.default variable.
Because omitting the quotes is a common error, Angular-Kendo will emit a warning in the JavaScript console when such variables are not found.</p>
</blockquote>

<p>Reload the application and see the new look. Have in mind that at present the "Our menu", "Cart", "Account" and "About" views do not exists yet which is why clicking on any of the links will result in a JavaScript error.</p>

<p><img src="image-03.png" alt="index view with layout"></p>

<p>For live preview please click <a href="http://dojo.telerik.com/@valchev/exeS/4">here</a>.</p>

<h2 id="6-create-our-menu-view"><a href="#6-create-our-menu-view">6. Create "Our Menu" View</a></h2>

<p>The "Our Menu" View will display a list of all products grouped by their first letter in alphabetical order.</p>

<p>Add a new mobile View called "Our Menu" and add a new ListView with ID "menuList" inside.
Then create a new controlled called "menuController" that will handle the functionality in this view. Bind the ListView to the "productsDataSource".</p>

<pre><code>&lt;kendo-mobile-view id="menu" k-title="'Menu'" k-layout="'default'" ng-controller="menuController"&gt;
    &lt;kendo-mobile-list-view id="menuList" class="item-list" k-data-source="sushiCart.productsDataSource"&gt;
        &lt;div k-template&gt;&lt;/div&gt;
    &lt;/kendo-mobile-list-view&gt;
&lt;/kendo-mobile-view&gt;

.controller('menuController', ['$scope', 'sushiCart', function($scope, sushiCart) {
    $scope.sushiCart = sushiCart;
}])
</code></pre>

<h2 id="7-use-event-handlers"><a href="#7-use-event-handlers">7. Use event handlers</a></h2>

<p>In this step we will configure the ListView located in "Home" View to display only the featured products and the ListView located in "Our Menu" View to display list of all products grouped by their first letter and ordered alphabetically.
In order to do that we will use the <a href="http://docs.telerik.com/kendo-ui/api/javascript/data/datasource#methods">DataSource API</a> and the <a href="http://docs.telerik.com/kendo-ui/api/javascript/mobile/ui/view#events-beforeShow">beforeShow</a> event of the mobile View.</p>

<p>Add <code>k-on-before-show</code> attribute to the View elements and specify the event handler name.</p>

<pre><code>&lt;kendo-mobile-view id="index" k-title="'Kendo sushi'" k-layout="'default'" k-on-before-show="filterFeatured()" ng-controller="indexController"&gt;
    &lt;kendo-mobile-list-view id="featured" class="item-list" k-data-source="sushiCart.productsDataSource"&gt;
        &lt;div k-template&gt;&lt;/div&gt;
    &lt;/kendo-mobile-list-view&gt;
&lt;/kendo-mobile-view&gt;

&lt;kendo-mobile-view id="menu" k-title="'Menu'" k-layout="'default'" k-on-before-show="groupByCategory()" ng-controller="menuController"&gt;
    &lt;kendo-mobile-list-view id="menuList" class="item-list" k-data-source="sushiCart.productsDataSource"&gt;
        &lt;div k-template&gt;&lt;/div&gt;
    &lt;/kendo-mobile-list-view&gt;
&lt;/kendo-mobile-view&gt;
</code></pre>

<p>The "filterFeatured" and "groupByCategory" event handlers should be declared in the controllers and assigned to the scope.</p>

<pre><code>.controller('indexController', ['$scope', 'sushiCart', function($scope, sushiCart) {
    $scope.sushiCart = sushiCart;

    $scope.filterFeatured= function() {
        //remove all groups
        $scope.sushiCart.productsDataSource.group([]);
        //filter only those records that are featured
        $scope.sushiCart.productsDataSource.filter({ field: "featured", operator: "eq", value: true });
    }
}])
.controller('menuController', ['$scope', 'sushiCart', function($scope, sushiCart) {
    $scope.sushiCart = sushiCart;

    $scope.groupByCategory = function() {
        //remove all filters
        $scope.sushiCart.productsDataSource.filter([]);
        //group items by category
        $scope.sushiCart.productsDataSource.group({ field: "category" });
    }
}])
</code></pre>

<p>For live preview please click <a href="http://dojo.telerik.com/@valchev/exeS/5">here</a>.</p>

<h2 id="8-customize-templates"><a href="#8-customize-templates">8. Customize templates</a></h2>

<p>In this step we will customize the ListView item template - we will add image of the product, information about the price as well as a button that will allow the user to add it to the cart.
Because both ListViews share the same template, we will extract it in a separate <code>&lt;script&gt;</code> tag to avoid code duplication.</p>

<pre><code>&lt;script id="menuTemplate" type="text/x-kendo-template"&gt;
    &lt;kendo-mobile-button k-on-click="sushiCart.addToCart(kendoEvent, dataItem)" data-item-id=""&gt;

    &lt;/kendo-mobile-button&gt;
    &lt;a class="details-link" data-role="listview-link" href="\#!details?id="&gt;
        &lt;img ng-src="content/images/75/" /&gt;
        &lt;h2&gt;&lt;/h2&gt;
        &lt;span class="added" ng-show="dataItem.visibleMessage"&gt;Item added to cart &lt;span&gt;&lt;/span&gt; times.&lt;/span&gt;
    &lt;/a&gt;
&lt;/script&gt;
</code></pre>

<p>Inside the template we use AngularJS directives and the double curly brace notation `` to bind expressions to elements.</p>

<blockquote>
<p>It is important to note that this is still a Kendo UI Template so you <a href="http://docs.telerik.com/kendo-ui/framework/templates/overview#template-syntax">must escape the <code>#</code> symbols</a>.</p>
</blockquote>

<p>Before we can pass the template to the widgets we have to assign it to the View controller's scope.
Let's create a service that will hold reference to the template.</p>

<pre><code>.factory('templates', function() {
    return {
        menuTemplate: $("#menuTemplate").html()
    };
})
</code></pre>

<p>Next we should add dependency for the "templates" service in "indexController" and "menuController".</p>

<pre><code>.controller('indexController', ['$scope', 'sushiCart', 'templates', function($scope, sushiCart, templates) {
    $scope.sushiCart = sushiCart;
    $scope.templates = templates;

    $scope.filterFeatured= function() {
        $scope.sushiCart.productsDataSource.group([]);
        $scope.sushiCart.productsDataSource.filter({ field: "featured", operator: "eq", value: true });
    }
}])
.controller('menuController', ['$scope', 'sushiCart', 'templates', function($scope, sushiCart, templates) {
    $scope.sushiCart = sushiCart;
    $scope.templates = templates;

    $scope.groupByCategory = function() {
        $scope.sushiCart.productsDataSource.filter([]);
        $scope.sushiCart.productsDataSource.group({ field: "category" });
    }
}])
</code></pre>

<p>Last we have to tell the ListViews to use the new template. Add <code>k-template="sushiCart.menuTemplate"</code> attribute to the ListView elements.</p>

<pre><code>&lt;!-- featured list --&gt;
&lt;kendo-mobile-list-view id="featured" class="item-list" k-template="templates.menuTemplate" k-data-source="sushiCart.productsDataSource"&gt;
&lt;/kendo-mobile-list-view&gt;

&lt;!-- all products list --&gt;
&lt;kendo-mobile-list-view id="menuList" class="item-list" k-template="templates.menuTemplate" k-data-source="sushiCart.productsDataSource"&gt;
&lt;/kendo-mobile-list-view&gt;
</code></pre>

<p><img src="image-04.png" alt="grouped listview"></p>

<p>For live preview please click <a href="http://dojo.telerik.com/@valchev/exeS/6">here</a>.</p>

<h2 id="9-display-details-for-each-record"><a href="#9-display-details-for-each-record">9. Display details for each record</a></h2>

<p>Note that in the template we added an anchor element that leads to a details View but the link is not functional yet. In this step we will create and bind the details View.
Add new <code>&lt;kendo-mobile-view&gt;</code> with ID "details", create a "detailsController" and hook up to the show event of the View.</p>

<pre><code>&lt;kendo-mobile-view id="details" k-transition="'slide'" k-layout="'default'" ng-controller="detailsController" k-on-show="setCurrentItem(kendoEvent)"&gt;
    &lt;kendo-mobile-header&gt;
        &lt;kendo-mobile-nav-bar&gt;
            &lt;kendo-mobile-back-button k-align="'left'"&gt;Back&lt;/kendo-mobile-back-button&gt;
            &lt;kendo-view-title&gt;Item&lt;/kendo-view-title&gt;
        &lt;/kendo-mobile-nav-bar&gt;
    &lt;/kendo-mobile-header&gt;

    &lt;kendo-mobile-content&gt;
        &lt;img ng-src="content/images/200/" /&gt;
        &lt;h2&gt;&lt;/h2&gt;
        &lt;p&gt;&lt;/p&gt;
        &lt;kendo-mobile-button id="buy-now" k-on-click="sushiCart.addToCart(kendoEvent)"&gt;
            &lt;span&gt;&lt;/span&gt;
        &lt;/kendo-mobile-button&gt;
        &lt;span class="added" ng-show="sushiCart.showLabel()"&gt;&lt;/span&gt;
    &lt;/kendo-mobile-content&gt;
&lt;/kendo-mobile-view&gt;
</code></pre>

<p>In the show event handler we should set the cart's "currentItem" and the framework will automatically evaluate the template expressions.
We will obtain the item ID thought the query string parameters of the View, then we will use the DataSource <a href="http://docs.kendoui.com/api/framework/datasource#methods-get">get method</a> to get the dataItem that corresponds to the ID parameter.</p>

<pre><code>.controller('detailsController', ['$scope', 'sushiCart', function($scope, sushiCart){
    $scope.sushiCart = sushiCart;

    $scope.setCurrentItem = function(kendoEvent) {
        var id = parseInt(kendoEvent.view.params.id);
        sushiCart.setCurrentItem(id);
    }
}])
</code></pre>

<blockquote>
<p>The ID of the last clicked item is passed through the query string parameters of the navigate URL: <code>href="\#!details?id="</code></p>
</blockquote>

<p>Implement the "setCurrentItem" method in the "sushiCart" service.</p>

<pre><code>.service('sushiCart', function() {

    this.init = function() {
        //the application DataSource
        this.productsDataSource = new kendo.data.DataSource({
            transport: {
                read: {
                    url: "content/menu.json",
                    dataType: "json"
                }
            }
        });
        //observable array that will be used to store products that user has selected
        this.added = new kendo.data.ObservableArray([]);
        //field that will hold reference to the last selected product (used for displaying the details)
        this.currentItem = null;
    };

    this.setCurrentItem = function(id) {
        this.currentItem = this.productsDataSource.get(id);
    };
})
</code></pre>

<p>Now if the user clicks on an item the application will navigate to a new View and displaying the product details.</p>

<p><img src="image-05.png" alt="product details"></p>

<p>For live preview please click <a href="http://dojo.telerik.com/@valchev/exeS/7">here</a>.</p>

<h2 id="10-create-the-cart-view"><a href="#10-create-the-cart-view">10. Create the "Cart" View</a></h2>

<p>The "Cart" View will show the added to cart Sushi products as well as the total price and a "checkout" button.</p>

<pre><code>&lt;kendo-mobile-view id="cart" k-title="'Cart'" k-layout="'default'" ng-controller="cartController"&gt;
    &lt;h2 id="total"&gt;&lt;/h2&gt;
    &lt;img src="content/images/sad.png" id="empty-icon"&gt;
    &lt;kendo-mobile-button id="checkout" class="red-button" href="#!done" k-on-click="sushiCart.checkout()" ng-show="sushiCart.added.length"&gt;Checkout&lt;/kendo-mobile-button&gt;
    &lt;div kendo-mobile-list-view="cartList" id="cartList" class="item-list" k-template="templates.cartItemTemplate" k-data-source="sushiCart.added"&gt;&lt;/div&gt;
&lt;/kendo-mobile-view&gt;
</code></pre>

<p>In the "cartList" ListView we are going to provide information about how many times the item was added to the cart, the total sum and delete button that allows the user to remove it from the cart.</p>

<pre><code>&lt;script id="cartItemTemplate" type="text/x-kendo-template"&gt;
    &lt;kendo-mobile-button class="red-button" k-on-click="sushiCart.removeItem(kendoEvent, dataItem)" data-item-id=""
        &gt;&amp;nbsp;&amp;\\#x2716;&amp;nbsp;
    &lt;/kendo-mobile-button&gt;
    &lt;a class="details-link" data-role="listview-link" href="\#!details?id="&gt;
        &lt;img ng-src="content/images/75/" /&gt;
        &lt;h2&gt; (x )&lt;/h2&gt;
        &lt;span class="price"&gt;total: &lt;/span&gt;
    &lt;/a&gt;
&lt;/script&gt;
</code></pre>

<p>Add a reference for the "cartItemTemplate" in the "templates" service.</p>

<pre><code>.factory('templates', function() {
    return {
        menuTemplate: $("#menuTemplate").html(),
        cartItemTemplate: $("#cartItemTemplate").html()
    };
})
</code></pre>

<p>Add "cartController" with dependency to the "sushiCart" and "templates" services.</p>

<pre><code>.controller('cartController', ['$scope', 'sushiCart', 'templates', function($scope, sushiCart, templates){
    $scope.sushiCart = sushiCart;
    $scope.templates = templates;
}])
</code></pre>

<p><img src="image-06.png" alt="empty cart"></p>

<p>For live preview please click <a href="http://dojo.telerik.com/@valchev/exeS/8">here</a>.</p>

<h2 id="11-add-some-functionality"><a href="#11-add-some-functionality">11. Add some functionality</a></h2>

<p>You probably noticed that we added click event handlers in the template which are not yet implemented. Since those methods are used by different views in our application we will define the event handlers inside the "sushiCart" service.</p>

<h3 id="111-add-to-cart"><a href="#111-add-to-cart">11.1 Add to cart</a></h3>

<p>The "addToCart" method is called when buttons located in "Home" ListView, "Our Menu" ListView and "Details" ListView are clicked.</p>

<pre><code>//in the "sushiCart" service
this.addToCart = function(kendoEvent, dataItem) {
    var that = this, item, ordered;

    item = dataItem ? dataItem : this.currentItem;

    //increment the number which indicates how many times the item is ordered
    ordered = item.get("ordered") || 0;
    ordered += 1;

    item.set("ordered", ordered);

    //add the item to the "added" list and show the 'item added to cart xx times' message
    if (ordered === 1) {
        item.set("visibleMessage", true);
        this.added.push(item);
    }

    //prevent the default behaviour of the anchor tag
    kendoEvent.preventDefault();
};
</code></pre>

<blockquote>
<p>Note that in the event handler a reference to the dataItem is passed directly thought the mark-up <code>k-on-click="sushiCart.addToCart(kendoEvent, dataItem)"</code></p>
</blockquote>

<pre><code>&lt;kendo-mobile-button k-on-click="sushiCart.addToCart(kendoEvent, dataItem)" data-item-id=""&gt;

&lt;/kendo-mobile-button&gt;
</code></pre>

<h3 id="112-remove-from-cart"><a href="#112-remove-from-cart">11.2 Remove from cart</a></h3>

<p>The "removeItem" method is called when delete button in the "Cart" ListView is pressed.</p>

<pre><code>//in the "sushiCart" service
this.removeItem = function(kendoEvent, dataItem) {
    var item = dataItem,
    index = this.added.indexOf(item),
    currentView = kendo.mobile.application.view();

    item.set("ordered", 0); //reset the ordered number
    item.set("visibleMessage", false); //hide the 'Item added to cart xx times' message
    this.added.splice(index, 1); //remove the item from the 'added' observable array

    //after removing item from the DataSource we should reset the ListView scroller
    currentView.scroller.reset();
    //prevent the default behaviour of the anchor tag
    kendoEvent.preventDefault();
};
</code></pre>

<blockquote>
<p>Note that in the event handler a reference to the dataItem is passed directly thought the mark-up <code>k-on-click="sushiCart.removeItem(kendoEvent, dataItem)"</code></p>
</blockquote>

<pre><code>&lt;kendo-mobile-button class="red-button" k-on-click="sushiCart.removeItem(kendoEvent, dataItem)" data-item-id=""
    &gt;&amp;nbsp;&amp;\\#x2716;&amp;nbsp;
&lt;/kendo-mobile-button&gt;
</code></pre>

<h3 id="113-checkout"><a href="#113-checkout">11.3 Checkout</a></h3>

<pre><code>//in the "sushiCart" service
this.checkout = function() {
    var that = this,
    dataSourceData = this.productsDataSource.data(), //get the dataSource data
    length = dataSourceData.length;

    setTimeout(function () { //loop through the data
        for (idx = 0; idx &lt; length; idx++) {
            dataSourceData[idx].set("ordered", 0); //reset the ordered field
        }

        that.added = []; //clear the added array
    }, 400);
};
</code></pre>

<p>The "checkout" method is called when checkout button in the "Cart" ListView is pressed.</p>

<pre><code>&lt;kendo-mobile-button id="checkout" class="red-button" href="#!done" k-on-click="sushiCart.checkout()" ng-show="sushiCart.added.length"&gt;Checkout&lt;/kendo-mobile-button&gt;
</code></pre>

<h3 id="114-calculate-the-total-price"><a href="#114-calculate-the-total-price">11.4 Calculate the total price</a></h3>

<p>The "showTotal" method is called when the user navigates to the "Cart" View. It calculates and returns the total price of all items added to the cart.</p>

<pre><code>this.showTotal = function() {
    var cartItems = this.added,
    total = 0;
    for(var idx = 0; idx &lt; cartItems.length; idx++) {
        total += cartItems[idx].ordered * cartItems[idx].price;
    }
    return kendo.toString(total, "c"); //format the number
};
</code></pre>

<p>The total price will be displayed in the "Cart" View.</p>

<pre><code>&lt;h2 id="total"&gt;&lt;/h2&gt;
</code></pre>

<h3 id="115-toggle-the-visibility-of-a-label"><a href="#115-toggle-the-visibility-of-a-label">11.5 Toggle the visibility of a label</a></h3>

<pre><code>this.showLabel = function() {
    return this.currentItem &amp;&amp; this.currentItem.ordered &gt; 0;
};
</code></pre>

<p>The "showLabel" method is used to determine whether the ordered label should be displayed.</p>

<pre><code>&lt;span class="added" ng-show="sushiCart.showLabel()"&gt;&lt;/span&gt;
</code></pre>

<p>For live preview please click <a href="http://dojo.telerik.com/@valchev/exeS/9">here</a>.</p>

<h2 id="12-create-account-view"><a href="#12-create-account-view">12. Create "Account" View</a></h2>

<p>The "Account" View will display some basic information for the user such as name, email address and notification preferences.
Add new View with ID "account" and set its title and layout options.
Inside the View create a ListView widget, unlike other ListView widgets in the application this one will not be bound to DataSource. Items are directly set in the HTML.</p>

<pre><code>&lt;kendo-mobile-view id="account" k-title="'My Account'" k-layout="'default'"&gt;
    &lt;kendo-mobile-list-view k-type="'group'"&gt;
        &lt;li&gt;
            Account
            &lt;ul&gt;
                &lt;li&gt;Username&lt;span class="list-item-data"&gt;kendoSushi&lt;/span&gt;&lt;/li&gt;
                &lt;li&gt;Email&lt;span class="list-item-data"&gt;sushi@kendoui.com&lt;/span&gt;&lt;/li&gt;
            &lt;/ul&gt;
        &lt;/li&gt;
        &lt;li&gt;
            Notifications
            &lt;ul&gt;
                &lt;li&gt;New products&lt;input type="checkbox" kendo-mobile-switch /&gt;&lt;/li&gt;
                &lt;li&gt;Exclusive promos&lt;input type="checkbox" k-checked="true" kendo-mobile-switch /&gt;&lt;/li&gt;
            &lt;/ul&gt;
        &lt;/li&gt;
    &lt;/kendo-mobile-list-view&gt;
&lt;/kendo-mobile-view&gt;
</code></pre>

<p>Note that it is possible to include other widgets in the ListView items, the corresponding directives will be automatically executed.
Since this View will not provide any extra functionality it does not need a controller.</p>

<p>For live preview please click <a href="http://dojo.telerik.com/@valchev/exeS/10">here</a>.</p>

<h2 id="13-create-done-view"><a href="#13-create-done-view">13. Create "Done" View</a></h2>

<p>The "Done" View will be shown after checkout and will indicate that the operation was completed successfully.</p>

<pre><code>&lt;kendo-mobile-view id="done"&gt;
    &lt;kendo-mobile-header&gt;
        &lt;kendo-mobile-nav-bar&gt;
            &lt;kendo-view-title&gt;Done!&lt;/kendo-view-title&gt;
        &lt;/kendo-mobile-nav-bar&gt;
    &lt;/kendo-mobile-header&gt;

    &lt;kendo-mobile-content class="km-insetcontent"&gt;
        &lt;img src="content/images/happy.png" id="done-icon"&gt;
        &lt;h2&gt;Thanks for shopping!&lt;/h2&gt;
        &lt;h3&gt;Your sushi is on the way.&lt;/h3&gt;
        &lt;kendo-mobile-button id="done-button" href="#!cart"&gt;Done&lt;/kendo-mobile-button&gt;
    &lt;/kendo-mobile-content&gt;
&lt;/kendo-mobile-view&gt;
</code></pre>

<p>For live preview please click <a href="http://dojo.telerik.com/@valchev/exeS/11">here</a>.</p>

<h2 id="14-remote-views"><a href="#14-remote-views">14. Remote Views</a></h2>

<p>The Kendo mobile Application can load Views remotely, using AJAX. If the navigational widget <code>href</code> attribute value <strong>does not start</strong> with a hash (#),
the application considers the View to be remote, and issues an AJAX request to the provided URL. For the sake of this example the last View of our application will be a remote one.</p>

<p>Create a folder named "content" and empty html file inside it called "about-angular.html".</p>

<p>In the remote View file we should include only the View's mark-up without any <code>&lt;html&gt;</code>, <code>&lt;head&gt;</code> or <code>&lt;body&gt;</code> tags. Keep in mind that the content of the remote View will be injected in our application via Ajax so there is no need to include any JavaScript dependencies in the file.
You may read more about Kendo UI Mobile remote Views in <a href="http://docs.telerik.com/kendo-ui/mobile/application#remote-views">this help topic</a>.</p>

<p>In the about View we will include header with title and back button and ListView with <a href="http://docs.telerik.com/kendo-ui/mobile/application#linking-to-external-pages">external links</a>.</p>

<pre><code>&lt;kendo-mobile-view k-transition="'overlay:up'"&gt;
    &lt;kendo-mobile-header&gt;
        &lt;kendo-mobile-nav-bar&gt;
            &lt;kendo-mobile-back-button k-align="'left'"&gt;Back&lt;/kendo-mobile-back-button&gt;
            &lt;kendo-view-title&gt;About&lt;/kendo-view-title&gt;
        &lt;/kendo-mobile-nav-bar&gt;
    &lt;/kendo-mobile-header&gt;

    &lt;kendo-mobile-content&gt;
        &lt;kendo-mobile-list-view k-type="'group'"&gt;
            &lt;li&gt;
                Photo sources
                &lt;ul&gt;
                    &lt;li&gt;&lt;a target="_top" data-rel="external" href="http://www.flickr.com/photos/gpeters/3469819385/"&gt;Sashimi salad&lt;/a&gt;&lt;/li&gt;
                    &lt;!-- more items --&gt;
                &lt;/ul&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/kendo-mobile-content&gt;
&lt;/kendo-mobile-view&gt;
</code></pre>

<h2 id="15-troubleshooting"><a href="#15-troubleshooting">15. Troubleshooting</a></h2>

<p>If something goes wrong:</p>

<ul>
<li><a href="http://docs.telerik.com/kendo-ui/troubleshooting#checking-for-javascript-errors">Check for JavaScript errors</a></li>
<li>Check if the problem you encountered is not already described in the <a href="http://docs.telerik.com/kendo-ui/troubleshooting">trouble shooting help topic</a>
</li>
<li>Check <a href="http://blogs.telerik.com/kendoui/posts/13-01-02/screencast_debugging_kendo_ui_applications">this screen cast</a> as it provides a brief overview how to easily debug Kendo UI Applications</li>
</ul>
        </article>
    </div>
</div>

<footer>
<p>Copyright &copy; 2002-2018. All rights reserved.</p>
</footer>


    </body>
</html>

